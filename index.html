<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Balon Oyunu</title>
<style>
  
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background: linear-gradient(135deg, #a0d8ef 0%, #fcefee 100%);
    background-image: url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
    background-size: cover;
    background-position: center;
  }
  #game-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    user-select: none;
  }
  #start-text {
    position: absolute;
    top: 45%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2.2rem;
    color: #f271b9;
    text-shadow: 1px 1px 3px #7a496c;
    pointer-events: none;
  }
  .balloon {
    position: absolute;
    bottom: 0;
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
    width: 60px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    cursor: pointer;
    box-shadow: inset -5px -10px 10px rgba(255 255 255 / 0.7);
    transition: transform 0.2s ease;
    user-select: none;
  }
  .balloon.good {
  }
  .balloon.bad {
    border-radius: 40% 60% 20% 80% / 60% 30% 70% 40%;
    transform-origin: center bottom;
  }
  .balloon:hover {
    transform: scale(1.15);
  }
  #score {
    position: fixed;
    top: 10px;
    left: 10px;
    font-size: 1.6rem;
    color: #6b1a40;
    background: rgba(255 255 255 / 0.7);
    padding: 6px 15px;
    border-radius: 12px;
    user-select: none;
    font-weight: bold;
  }
  #info-button, #lang-button {
    position: fixed;
    top: 10px;
    right: 10px;
    width: 36px;
    height: 36px;
    background: rgba(255 255 255 / 0.7);
    border-radius: 50%;
    border: none;
    cursor: pointer;
    font-size: 1.8rem;
    color: #6b1a40;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-left: 6px;
    user-select: none;
  }
  #info-button {
    right: 56px;
  }
  #buttons-wrapper {
    position: fixed;
    top: 10px;
    right: 10px;
    display: flex;
    gap: 10px;
    z-index: 1000;
  }
  #info-panel {
    position: fixed;
    top: 60px;
    right: 10px;
    width: 270px;
    max-height: 320px;
    overflow-y: auto;
    background: rgba(255 255 255 / 0.9);
    border-radius: 14px;
    padding: 15px 20px;
    box-shadow: 2px 2px 6px rgba(0,0,0,0.2);
    font-size: 0.9rem;
    line-height: 1.3;
    color: #4a1f3d;
    display: none;
    z-index: 999;
  }
  #lang-select {
    width: 100%;
    font-size: 1rem;
    border-radius: 8px;
    border: 1px solid #6b1a40;
    padding: 4px 6px;
    background: #fff;
    color: #6b1a40;
  }
  #game-over {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    color: #c13e65;
    background: rgba(255 255 255 / 0.85);
    border-radius: 18px;
    padding: 18px 30px;
    user-select: none;
    display: none;
    text-align: center;
  }
  #game-over button {
    margin-top: 15px;
    padding: 8px 16px;
    border: none;
    border-radius: 12px;
    background: #f271b9;
    color: #fff;
    font-size: 1.2rem;
    cursor: pointer;
  }
</style>
</head>
<body>
  <div id="game-container" tabindex="0" aria-label="Balon oyunu">
    <div id="start-text">Bir tu≈üa bas!</div>
    <div id="score">Puan: 0</div>
    <div id="buttons-wrapper">
      <button id="info-button" title="Bilgi">i</button>
      <button id="lang-button" title="Dil Se√ß">üåê</button>
    </div>
    <div id="info-panel" role="region" aria-live="polite" aria-atomic="true">
      <h3>Oyun Kurallarƒ±</h3>
      <p data-lang-tr>Balonlara tƒ±klayƒ±n, puan kazanƒ±n. ƒ∞yi balonlar +10 puan, k√∂t√º balonlar -15 puan. 100 puana ula≈üƒ±nca kazanƒ±rsƒ±nƒ±z!</p>
      <p data-lang-en>Click balloons to score. Good balloons +10, bad balloons -15. Reach 100 points to win!</p>
      <p data-lang-de>Klicken Sie auf die Ballons, um Punkte zu erzielen. Gute Ballons +10, schlechte Ballons -15. Erreichen Sie 100 Punkte, um zu gewinnen!</p>
      <h4>Dil Se√ßimi</h4>
      <select id="lang-select" aria-label="Dil se√ßimi">
        <option value="tr">T√ºrk√ße</option>
        <option value="en">English</option>
        <option value="de">Deutsch</option>
      </select>
    </div>
    <div id="game-over">
      <div data-lang-tr>Oyun bitti! Tebrikler!</div>
      <div data-lang-en>Game Over! Congratulations!</div>
      <div data-lang-de>Spiel vorbei! Herzlichen Gl√ºckwunsch!</div>
      <button id="restart-button">Tekrar Oyna</button>
    </div>
  </div>

<script>
(() => {
  const gameContainer = document.getElementById('game-container');
  const startText = document.getElementById('start-text');
  const scoreDisplay = document.getElementById('score');
  const infoButton = document.getElementById('info-button');
  const langButton = document.getElementById('lang-button');
  const infoPanel = document.getElementById('info-panel');
  const langSelect = document.getElementById('lang-select');
  const gameOverPanel = document.getElementById('game-over');
  const restartButton = document.getElementById('restart-button');

  const goodEmojis = ['üê∂', 'üê±', 'üê≠', 'üçé', 'üçå', 'üçá', 'üê∞', 'üêª', 'üçì', 'üê•'];
  const badEmojis = ['üíÄ', 'üëπ', 'üë∫', 'ü¶†', 'üêç', 'üï∑Ô∏è'];

  let score = 0;
  let gameStarted = false;
  let gameEnded = false;
  let lastKeyPressTime = 0;
  let autoSpawnInterval;

  let currentLang = 'tr';

  function updateLangTexts() {
    document.querySelectorAll('[data-lang-tr]').forEach(el => el.style.display = 'none');
    document.querySelectorAll('[data-lang-en]').forEach(el => el.style.display = 'none');
    document.querySelectorAll('[data-lang-de]').forEach(el => el.style.display = 'none');
    document.querySelectorAll(`[data-lang-${currentLang}]`).forEach(el => el.style.display = '');
  }

  function updateScoreDisplay() {
    const labels = {tr:'Puan', en:'Score', de:'Punkte'};
    scoreDisplay.textContent = `${labels[currentLang]}: ${score}`;
  }

  function createBalloon(isGood, emoji, leftPos) {
    const balloon = document.createElement('div');
    balloon.classList.add('balloon');
    balloon.classList.add(isGood ? 'good' : 'bad');
    balloon.style.left = `${leftPos}px`;
    balloon.style.backgroundColor = isGood ? randomPastelColor() : '#d14a52';
    balloon.textContent = emoji;

    balloon.style.bottom = '0px';

    let pos = 0;
    const maxHeight = window.innerHeight * 0.8;
    let popped = false;

    const riseInterval = setInterval(() => {
      if (popped || gameEnded) {
        clearInterval(riseInterval);
        balloon.remove();
        return;
      }
      pos += 3;
      balloon.style.bottom = pos + 'px';

      if (pos > maxHeight) {
        clearInterval(riseInterval);
        balloon.remove();
      }
    }, 30);

    balloon.addEventListener('click', () => {
      if (popped || gameEnded) return;
      popped = true;
      balloon.style.transition = 'transform 0.3s ease, opacity 0.3s ease';
      balloon.style.transform = 'scale(1.7)';
      balloon.style.opacity = '0';

      clearInterval(riseInterval);
      setTimeout(() => balloon.remove(), 300);

      if (!gameEnded) {
        score += isGood ? 10 : -15;
        updateScoreDisplay();
        checkGameOver();
      }
    });

    gameContainer.appendChild(balloon);
  }

  function randomPastelColor() {
    const r = Math.floor(150 + Math.random() * 105);
    const g = Math.floor(150 + Math.random() * 105);
    const b = Math.floor(150 + Math.random() * 105);
    return `rgb(${r},${g},${b})`;
  }

  function spawnBalloonByKey() {
    if (gameEnded) return;
    lastKeyPressTime = Date.now();
    startText.style.display = 'none';

    gameStarted = true;

    const isGood = Math.random() > 0.3;
    const emoji = isGood ? goodEmojis[Math.floor(Math.random() * goodEmojis.length)] : badEmojis[Math.floor(Math.random() * badEmojis.length)];
    const leftPos = Math.random() * (window.innerWidth - 60);

    createBalloon(isGood, emoji, leftPos);
  }

  function autoSpawnBalloon() {
    if (gameEnded) return;
    if (!gameStarted) return;

    if (Date.now() - lastKeyPressTime > 1000) {
      lastKeyPressTime = Date.now();

      const isGood = Math.random() > 0.3;
      const emoji = isGood ? goodEmojis[Math.floor(Math.random() * goodEmojis.length)] : badEmojis[Math.floor(Math.random() * badEmojis.length)];
      const leftPos = Math.random() * (window.innerWidth - 60);

      createBalloon(isGood, emoji, leftPos);
    }
  }

  function checkGameOver() {
    if (score >= 100) {
      gameEnded = true;
      gameOverPanel.style.display = 'block';
      startText.style.display = 'none';
      clearInterval(autoSpawnInterval);
    }
    else if (score < 0) {
      score = 0;
      updateScoreDisplay();
    }
  }

  langSelect.addEventListener('change', (e) => {
    currentLang = e.target.value;
    updateLangTexts();
    updateScoreDisplay();
  });

  infoButton.addEventListener('click', () => {
    if (infoPanel.style.display === 'block') {
      infoPanel.style.display = 'none';
    } else {
      infoPanel.style.display = 'block';
      langSelect.value = currentLang;
    }
  });

  langButton.addEventListener('click', () => {
    if (infoPanel.style.display === 'block') {
      infoPanel.style.display = 'none';
    } else {
      infoPanel.style.display = 'block';
      langSelect.value = currentLang;
    }
  });

  restartButton.addEventListener('click', () => {
    gameEnded = false;
    score = 0;
    updateScoreDisplay();
    gameOverPanel.style.display = 'none';
    startText.style.display = 'block';
    infoPanel.style.display = 'none';
    gameStarted = false;
  });

  gameContainer.addEventListener('keydown', (e) => {
    if (gameEnded) return;
    spawnBalloonByKey();
  });

  gameContainer.addEventListener('click', (e) => {
    if (gameEnded) return;
    if (e.target === gameContainer) {
      spawnBalloonByKey();
    }
  });

  updateLangTexts();
  updateScoreDisplay();

  autoSpawnInterval = setInterval(autoSpawnBalloon, 500);

  gameContainer.focus();
})();
</script>
</body>
</html>
